<div class="bg-img bg-welcome">
  <div class="blur_filter d-flex">
    <div class="card col-md-6 m-auto" style="background: rgba(255,255,255,0.7);">
      <div class="card-body">
        <h2 class="text-center">プロフィール編集</h2>
        <%= form_with model:@user, url: learner_user_path(@user), local: true do |f| %>
          <div class="form-row align-items-center">
            <div class="col-md-9 mb-3 mx-auto">
              <% if flash[:warning].present? %>
                <div class="alert alert-warning"><%= flash[:warning] %></div>
              <% end %>
              <div class="item-image text-center">
                <%= attachment_image_tag current_learner_user, :image, id: "prev_image", fallback: "no_image.jpg", size:"100x100", style: "border-radius: 18px;", onClick: "$('#change_image').click()" %>
                <%= f.attachment_field :image, id: "change_image" %>
                <i class="fas fa-sync-alt fa-2x fa-fw" onClick="$('#change_image').click()" ></i>
                <%= f.label :language, "プロフィール画像を登録" %>
              </div>
            </div>
            <div class="col-md-9 mb-3 mx-auto">
              <div class="field">
                <%= f.label :"name", "お名前" %><br />
                <%= f.text_field :name, autofocus: true, autocomplete: "name", class: "form-control" %>
              </div>
            </div>
            <div class="col-md-9 mb-3 mx-auto">
              <div class="field">
                <%= f.label :email, "メールアドレス" %><br />
                <%= f.email_field :email, autofocus: true, autocomplete: "email", class: "form-control" %>
              </div>
            </div>
            <div class="col-md-9 mb-3 mx-auto">
              <div class="field">
                <%= f.label :language, "学習言語を登録" %>
                <%= f.collection_select :language, @languages, :language, :language, {prompt: "選択してください"}, class: "custom-select mr-sm-2" %><br>
              </div>
            </div>
            <div class="col-md-9 mb-3 mx-auto">
              <div class="field">
                <%= f.label :level, "学習レベルを登録" %>
                <%= f.select :level, User.levels.keys.map {|k| [k, k]},{}, class: "custom-select mr-sm-2" %>
              </div>
            </div>
            <div class="col-md-9 mb-3 mx-auto">
              <div class="field">
                <%= f.label :introduction, "自己紹介" %>
                <%= f.text_area :introduction, class: "form-control", rows: "3" %>
              </div>
            </div>
            <div class="col-md-9 mb-3 mx-auto">
              <button class="main-btn mx-2">変更</button>
            </div>
          </div>
        <% end %>
        </div>
      </div>
    </div>
  </div>
</div>